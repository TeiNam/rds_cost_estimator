# ECOMMERCE_APP Oracle 마이그레이션 전략 리포트

---

## 리포트 개요

**추천 타겟**: RDS for MySQL

**추천 신뢰도**: 85%

**소스 데이터베이스**: ECOMMERCE_APP (Oracle 19.0.0.0.0)

**분석 소스**: AWR, PL/SQL

**분석 일시**: 2026-02-20

---

## 목차

### Part 1: 의사결정 정보
1. [분석 신뢰도](#-분석-신뢰도-및-데이터-가용성)
2. [데이터베이스 개요](#데이터베이스-개요)
3. [Oracle 기능 사용 현황](#oracle-기능-사용-현황)
4. [추천 전략 및 근거](#추천-전략)
5. [최종 난이도 판정](#최종-난이도-판정)
6. [대안 전략 비교](#대안-전략)
7. [위험 요소 및 완화 방안](#위험-요소-및-완화-방안)

### Part 2: 기술 상세 (부록)
- [인스턴스 추천](#인스턴스-추천)
- [분석 메트릭](#분석-메트릭-부록)


## 📊 분석 신뢰도 및 데이터 가용성

> 이 섹션은 분석 결과의 신뢰도와 그 근거를 설명합니다.

### 종합 신뢰도: 🟢 **85%** (높음)

```
[█████████████████░░░] 85%
```

### 분석 모드: **DB_ONLY**

**DB-Only 모드**는 서비스 SQL 없이 PL/SQL과 DBCSI 데이터만으로 분석합니다.

### 데이터 가용성

| 데이터 소스 | 상태 | 파일 수 | 신뢰도 기여 |
|------------|------|--------|------------|
| 서비스 SQL | ❌ 미포함 | - | 추정값 사용 |
| PL/SQL | ✅ 포함 | 2개 | 85% |
| DBCSI (AWR) | ✅ 포함 | - | 90% |

### 항목별 신뢰도 상세

| 분석 항목 | 신뢰도 | 데이터 출처 | 설명 |
|----------|--------|------------|------|
| SQL 복잡도 | 65% | 없음 (추정값) | ORM 기반 단순 CRUD 가정 |
| PL/SQL 복잡도 | 85% | 파일 분석 | 실측값 기반 분석 |
| 성능 메트릭 | 90% | 리포트 파싱 | 실측값 기반 분석 |
| 전략 추천 | 88% | 종합 분석 | 위 항목 종합 |


## 데이터베이스 개요

### 기본 정보

| 항목 | 값 | 설명 |
|------|-----|------|
| 데이터베이스 이름 | ECOMMERCE_APP | 이커머스 애플리케이션 DB |
| Oracle 버전 | 19.0.0.0.0 | Standard Edition 2 |
| 문자셋 | AL32UTF8 | UTF8 호환 |
| 인스턴스 수 | 1 (단일 인스턴스) | 단일 서버 구성 |

### 크기 및 리소스 정보

| 항목 | 값 | 설명 |
|------|-----|------|
| 전체 DB 크기 | 120.0 GB | 소규모 OLTP |
| 물리 메모리 | 64.0 GB | 서버 총 메모리 |
| CPU 코어 수 | 4 | 물리 CPU 코어 |

### PL/SQL 오브젝트

| 오브젝트 유형 | 개수 | 변환 난이도 | 설명 |
|-------------|------|------------|------|
| 패키지 | 3 | 🟡 낮음 | 여러 프로시저/함수를 묶은 모듈 |
| 프로시저 | 18 | 🟢 낮음 | 비즈니스 로직 처리 단위 |
| 함수 | 10 | 🟢 낮음 | 값을 계산하여 반환하는 프로그램 단위 |
| 트리거 | 22 | 🟢 낮음 | 이벤트 기반 자동 실행 |
| **총 PL/SQL 오브젝트 수** | **53** | - | 변환 대상 프로그램 오브젝트 총합 |
| **총 PL/SQL 라인 수** | **8,000** | - | 변환 작업량 산정의 기준 |


# 추천 전략

**Replatform (리플랫폼)** → RDS for MySQL

## Replatform 세부 전략 선택 가이드

| 옵션 | 설명 | 적합한 경우 | 관리 부담 |
|------|------|------------|----------|
| **RDS MySQL** | 완전 관리형 서비스 | 표준 OLTP, 운영 부담 최소화 | 🟢 낮음 |
| **Aurora MySQL** | 고성능 관리형 서비스 | 높은 가용성, 자동 스케일링 필요 | 🟢 낮음 |

### 선택된 세부 전략: **RDS for MySQL**

**선택 이유:**
- 단순 OLTP 워크로드에 MySQL InnoDB 엔진 최적
- PL/SQL 복잡도가 매우 낮아 (8,000줄) 변환 작업량 최소
- 높은 트랜잭션 처리량 (평균 85.2 TPS) 지원
- Oracle 라이선스 비용 완전 제거로 TCO 50~70% 절감
- 광범위한 에코시스템 및 커뮤니티 지원

## Replatform 선택 이유

| 조건 | 설명 |
|------|------|
| PL/SQL 복잡도 | 매우 낮음 (8,000줄, 53개 오브젝트) |
| 단일 인스턴스 | RAC 미사용으로 전환 복잡도 낮음 |
| OLTP 워크로드 | MySQL InnoDB의 높은 트랜잭션 처리 성능 활용 |
| DB Link | 0개 - 외부 연결 재설계 불필요 |
| DB 크기 | 120GB로 소규모 - 마이그레이션 시간 최소 |


# 추천 근거

## PL/SQL 복잡도

### 분석 대상 오브젝트

| 오브젝트 타입 | 개수 | MySQL 기본점수 |
|--------------|------|----------------|
| 패키지 | 3개 | 5.0 |
| 프로시저 | 18개 | 2.5 |
| 함수 | 10개 | 3.0 |
| 트리거 | 22개 | 4.5 |
| **합계** | **53개** | - |

### 타겟 DB별 복잡도

| 항목 | MySQL |
|------|-------|
| 평균 복잡도 | 2.85 (낮음) |
| 최대 복잡도 | 5.20 (중간) |
| 고난이도 | 0개 / 3개 (≥7.0) |

### 감지된 Oracle 특화 기능

| Oracle 기능 | 사용 횟수 | 변환 영향도 |
|------------|----------|------------|
| SEQUENCE | 25회 | 🟢 낮음 |
| SYSDATE | 다수 | 🟢 낮음 |
| NVL | 다수 | 🟢 낮음 |

### 변환 가이드

| Oracle 기능 | MySQL 대체 방법 |
|------------|----------------|
| SEQUENCE | AUTO_INCREMENT 또는 별도 시퀀스 테이블 |
| SYSDATE | NOW() |
| NVL | IFNULL() 또는 COALESCE() |
| ROWNUM | LIMIT 절 |

## 작업 예상 시간

### 분석 대상

| 항목 | 값 |
|------|-----|
| PL/SQL 오브젝트 수 | 53개 |
| PL/SQL 총 라인 수 | 8,000줄 |

### 예상 작업 시간 (4인 팀 기준)

| 작업 방식 | 예상 기간 | 비고 |
|----------|----------|------|
| AI 활용 (4인) | 3~5일 | 오브젝트당 4시간 × 30~50% |


# 최종 난이도 판정

**종합 난이도**: 낮음 (Low)

## 난이도 점수 산정 기준

| 평가 항목 | 현재 값 | 획득 점수 |
|----------|--------|----------|
| PL/SQL 평균 복잡도 | 2.85 (낮음) | 0점 |
| PL/SQL 코드량 | 8,000줄 (적음) | 0점 |
| 고난이도 비율 (≥7.0) | 0/3개 (0%) | 0점 |
| 고난이도 절대 개수 | 0개 | 0점 |
| 패키지 개수 | 3개 (적음) | 0점 |
| **합계** | - | **0점** |

> **난이도 등급 기준**: 0~2점 낮음, 3~5점 중간, 6~8점 높음, 9점 이상 매우 높음

## 판정 요약

- 🟢 PL/SQL 평균 복잡도가 낮음 (2.85)
- 🟢 PL/SQL 코드량이 적음 (8,000줄)
- 🟢 단일 인스턴스 구성으로 전환 복잡도 낮음
- 🟢 DB Link 없음 - 외부 의존성 없음
- 🟢 고난이도 오브젝트 없음


# 대안 전략

## 대안 1: RDS for PostgreSQL

### 장점
- Oracle과 가장 유사한 문법 및 기능
- PL/pgSQL로 PL/SQL 로직 변환 용이
- 고급 분석 쿼리 기능
### 단점
- 단순 OLTP에는 MySQL 대비 오버스펙
- MySQL 대비 에코시스템 규모 작음
### 고려사항
- ✅ 향후 복잡한 쿼리가 추가될 예정인 경우
- ⚠️ 현재 워크로드 기준으로는 MySQL이 더 적합

## 대안 2: Aurora MySQL

### 장점
- 자동 스케일링, 고가용성 (3AZ 6카피 복제)
- MySQL 호환으로 동일한 변환 작업
- 프로모션 피크 대응에 유리
### 단점
- RDS MySQL 대비 약간 높은 비용
- 클러스터 스토리지 비용 구조 상이
### 고려사항
- ✅ 프로모션 등 트래픽 급증이 빈번한 경우
- ✅ 높은 가용성이 필요한 경우


# 위험 요소 및 완화 방안

## 위험 1: PL/SQL → 저장 프로시저/애플리케이션 코드 변환

**카테고리**: technical

**심각도**: low

**완화 방안**: PL/SQL 복잡도가 낮아 (8,000줄) AI 도구로 빠른 변환 가능. 대부분 단순 CRUD 로직.

## 위험 2: 프로모션 피크 시 트래픽 급증 대응

**카테고리**: performance

**심각도**: medium

**완화 방안**: Read Replica 구성으로 읽기 부하 분산, 필요시 Aurora MySQL로 전환 검토

## 위험 3: SEQUENCE → AUTO_INCREMENT 변환 시 기존 값 유지

**카테고리**: technical

**심각도**: low

**완화 방안**: 마이그레이션 시 AUTO_INCREMENT 시작값을 기존 시퀀스 최대값으로 설정


# 인스턴스 추천

## 권장 인스턴스 타입

- **인스턴스 타입**: db.r6i.xlarge
- **vCPU**: 4
- **메모리**: 32 GB
- **적용 여유율**: 20%

### 추천 근거

**AWR/Statspack 분석 결과**:
- 평균 CPU 사용률: 22.3%
- 평균 I/O 부하: 900 IOPS
- 평균 메모리 사용량: 42.5 GB

**피크 부하 예상 (P99 기준 +20% 여유율)**:
- 예상 피크 CPU: 57.8%
- 예상 피크 메모리: 58.6 GB

## 인스턴스 추천 비교

| 구분 | 현재 서버 사양 기반 | SGA 권장사항 기반 |
|------|---------------------|-------------------|
| **인스턴스 타입** | db.r6i.xlarge | db.r6i.large |
| **vCPU** | 4 | 2 |
| **메모리** | 32 GB | 16 GB |

### SGA 분석 결과

| 항목 | 값 |
|------|-----|
| **현재 SGA 크기** | 32 GB |
| **권장 SGA 크기** | 40 GB |
| **SGA 증가율** | 25.0% |


---

## 요약

| 항목 | 내용 |
|------|------|
| **추천 전략** | RDS for MySQL (Replatform) |
| **예상 기간** | 3~5일 (AI 도구 활용, 4인 팀) |

### 핵심 이점
- Oracle 라이선스 비용 완전 제거 (TCO 50~70% 절감)
- PL/SQL 복잡도 매우 낮아 빠른 전환 가능
- MySQL InnoDB의 높은 OLTP 성능

### 주요 위험
- 프로모션 피크 시 트래픽 급증 대응 필요
- PL/SQL → 저장 프로시저 변환 (소규모)
