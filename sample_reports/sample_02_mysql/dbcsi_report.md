# AWR 분석 보고서

생성 시간: 2026-01-31 17:02:20

## 📊 데이터베이스 개요

### 이 섹션의 목적

마이그레이션 대상 Oracle 데이터베이스의 기본 정보를 보여줍니다.
이 정보는 AWS 타겟 환경(Aurora, RDS 등)의 인스턴스 크기와 구성을 결정하는 데 사용됩니다.

### 기본 정보

| 항목 | 값 | 설명 |
|------|-----|------|
| 데이터베이스 이름 | SIMPLE_CRM | 마이그레이션 대상 DB를 식별하는 이름입니다 |
| Oracle 버전 | 19.0.0.0.0 | 현재 사용 중인 Oracle 버전입니다. 버전에 따라 사용 가능한 기능이 다릅니다 |
| DBID | 2345678901 | Oracle이 내부적으로 사용하는 고유 식별자입니다 |
| 플랫폼 | Linux x86 64-bit | 데이터베이스가 실행 중인 운영체제입니다 |
| 문자셋 | AL32UTF8 | 데이터베이스에 저장된 문자의 인코딩 방식입니다. UTF8은 다국어를 지원하며 Aurora와 호환됩니다 |
| 인스턴스 수 | 1 (단일 인스턴스) | 단일 서버에서 실행 중입니다. 마이그레이션이 상대적으로 단순합니다 |
| RDS 환경 | 아니오 | 온프레미스 또는 다른 클라우드에서 실행 중입니다 |

### 크기 및 리소스 정보

> **왜 중요한가요?**
> 이 정보를 바탕으로 AWS에서 적절한 인스턴스 타입(예: db.r6g.xlarge)과
> 스토리지 크기를 선택합니다. 과소 산정하면 성능 문제가, 과대 산정하면 비용 낭비가 발생합니다.

| 항목 | 값 | 설명 |
|------|-----|------|
| 전체 DB 크기 | 85.0 GB | 실제 데이터가 차지하는 디스크 공간입니다. 소규모로 빠른 마이그레이션이 가능합니다 |
| 물리 메모리 | 32.0 GB | 현재 서버의 총 메모리입니다. Aurora 인스턴스 선택 시 참고합니다 |
| CPU 코어 수 | 2 | 현재 서버의 CPU 코어 수입니다. AWS vCPU 산정 기준이 됩니다 |
| CPU 수 | 4 | 논리 CPU 수 (하이퍼스레딩 포함) |

### 마이그레이션 시사점

> 위 정보를 바탕으로 분석한 마이그레이션 관련 주요 사항입니다.

- ✅ **문자셋 호환**: UTF8 계열이므로 Aurora와 호환됩니다. 한글, 특수문자 등이 정상적으로 마이그레이션됩니다
- ✅ **단순한 구성**: 단일 인스턴스이므로 마이그레이션 복잡도가 낮습니다
- ✅ **소규모 DB**: 85GB로 빠른 마이그레이션이 가능합니다. 전체 백업/복원 방식도 고려할 수 있습니다

## 📦 데이터베이스 오브젝트 통계

### 이 섹션의 목적

마이그레이션 대상 오브젝트(테이블, 프로시저 등)의 전체 현황을 보여줍니다.
오브젝트 유형별 개수를 파악하여 **변환 작업량과 소요 시간을 추정**하는 데 사용됩니다.

> **💡 IT 관계자를 위한 설명**
> - **오브젝트**: 데이터베이스에 저장된 구성 요소 (테이블, 프로시저, 함수 등)
> - **변환**: Oracle 문법을 타겟 DB(Aurora 등) 문법으로 바꾸는 작업
> - 오브젝트 수가 많을수록 마이그레이션 기간과 비용이 증가합니다

### PL/SQL 오브젝트

> **PL/SQL 오브젝트란?**
> Oracle 데이터베이스에 저장된 **프로그램 코드**입니다.
> 비즈니스 로직, 데이터 처리 규칙 등이 포함되어 있습니다.
> 마이그레이션 시 타겟 DB 문법으로 **수동 변환이 필요**합니다.

> **💡 변환 난이도 설명**
> - 🔴 **높음**: 복잡한 로직, 수동 변환 필수, 전문가 검토 필요
> - 🟠 **중간**: 일부 자동 변환 가능, 검토 필요
> - 🟢 **낮음**: 대부분 자동 변환 가능

| 오브젝트 유형 | 개수 | 변환 난이도 | 설명 |
|-------------|------|------------|------|
| 패키지 | 5 | 🔴 높음 | 여러 프로시저/함수를 묶은 모듈. 가장 복잡한 변환 대상 |
| 프로시저 | 25 | 🟠 중간 | 특정 작업을 수행하는 프로그램 단위 |
| 함수 | 12 | 🟠 중간 | 값을 계산하여 반환하는 프로그램 단위 |
| 트리거 | 28 | 🟠 중간 | 데이터 변경 시 자동 실행되는 프로그램 |
| 타입 | 5 | 🔴 높음 | 사용자 정의 데이터 타입. 타겟 DB에서 재설계 필요 |
| **총 PL/SQL 오브젝트 수** | **75** | - | 변환 대상 프로그램 오브젝트 총합 |
| **총 PL/SQL 라인 수** | **15,000** | - | 변환 작업량 산정의 기준 |

#### 변환 작업량 추정

> **💡 이 수치의 의미**
> 아래는 업계 평균 기준의 추정치입니다. 실제 소요 시간은 코드 복잡도,
> 개발자 숙련도, 사용 도구에 따라 달라질 수 있습니다.

- **예상 변환 시간**: 약 **50시간** (100줄당 20분 기준)
- **AI 도구 활용 시**: 약 **30시간** (40% 단축 가능)
- **예상 인력**: 6.2인일 (1일 8시간 기준)

### 스키마 오브젝트

> **스키마 오브젝트란?**
> 테이블, 뷰, 인덱스 등 **데이터 구조를 정의**하는 오브젝트입니다.
> 실제 비즈니스 데이터가 저장되는 곳입니다.

> **💡 AWS SCT(Schema Conversion Tool)란?**
> AWS에서 제공하는 무료 도구로, Oracle 스키마를 Aurora/PostgreSQL/MySQL
> 스키마로 자동 변환해줍니다. 수동 작업 대비 90% 이상 시간 절약 가능.

> **⚠️ SCT 변환의 한계**
> SCT가 모든 오브젝트를 자동 변환하는 것은 아닙니다:
> - **자동 변환 가능**: 테이블, 인덱스, 시퀀스, 기본 뷰 등
> - **수동 검토 필요**: 복잡한 뷰, Materialized View, 파티션 테이블, 사용자 정의 타입
> - **타겟 DB에 따라 불가**: Oracle 전용 기능(DB Link, Advanced Queue 등)은
>   타겟 DB에서 지원하지 않아 아키텍처 재설계가 필요할 수 있습니다.

| 오브젝트 유형 | 개수 | 변환 방법 | 설명 |
|-------------|------|----------|------|
| 스키마 | 5 | SCT 자동 변환 | 데이터베이스 내 논리적 구분 단위 |
| 테이블 | 120 | SCT 자동 변환 | 실제 데이터가 저장되는 기본 단위 |
| 뷰 | 45 | 일부 수동 검토 | 가상 테이블. 복잡한 뷰는 검토 필요 |
| 인덱스 | 180 | SCT 자동 변환 | 검색 속도 향상을 위한 구조 |
| 시퀀스 | 35 | SCT 자동 변환 | 자동 증가 번호 생성기 |
| LOB | 15 | SCT 자동 변환 | 대용량 데이터 (이미지, 문서 등) |

## ⚡ 성능 메트릭 상세

### 이 섹션의 목적

AWR/Statspack에서 수집된 **실제 운영 환경의 성능 데이터**입니다.
이 데이터를 바탕으로 AWS 타겟 인스턴스의 크기(CPU, 메모리, 스토리지)를 결정합니다.

> **💡 IT 관계자를 위한 설명**
> - **AWR/Statspack**: Oracle이 자동으로 수집하는 성능 통계 리포트
> - **인스턴스 사이징**: AWS에서 적절한 서버 크기를 선택하는 것
> - 과소 산정 → 성능 문제 발생, 과대 산정 → 비용 낭비

**분석 기간**: 26/01/15 09:00 ~ 26/01/15 11:00

### CPU 사용량

> **CPU/s란?** 초당 CPU 사용량입니다. 이 값이 높을수록 더 많은 vCPU가 필요합니다.

| 메트릭 | 값 | 의미 |
|--------|-----|------|
| 평균 CPU/s | 15.50 | 일반적인 부하 상태 |
| 최소 CPU/s | 12.50 | 가장 한가한 시점 |
| 최대 CPU/s | 18.50 | 가장 바쁜 시점 (피크) |

### I/O 성능

> **💡 용어 설명**
> - **IOPS**: 초당 I/O 작업 수. 디스크가 얼마나 자주 읽기/쓰기하는지 나타냄
> - **처리량(MB/s)**: 초당 전송 데이터량. 대용량 데이터 처리 능력
> - **읽기**: 데이터 조회 작업, **쓰기**: 데이터 저장/수정 작업

| 메트릭 | 읽기 | 쓰기 | 합계 | 의미 |
|--------|------|------|------|------|
| 평균 IOPS | 29 | 10 | 39 | 일반적인 디스크 사용량 |
| 최대 IOPS | 32 | 12 | 45 | 피크 시 디스크 사용량 |
| 평균 처리량 (MB/s) | 4.2 | 89.5 | 93.7 | 데이터 전송 속도 |

### 트랜잭션

> **💡 트랜잭션이란?**
> 데이터베이스에서 하나의 작업 단위입니다. 예: 주문 처리, 결제 완료 등
> 커밋/초가 높을수록 시스템이 더 많은 업무를 처리하고 있다는 의미입니다.

| 메트릭 | 값 | 의미 |
|--------|-----|------|
| 평균 커밋/초 | 0.53 | 초당 완료되는 트랜잭션 수 |
| 최대 커밋/초 | 0.62 | 피크 시 트랜잭션 처리량 |

### 마이그레이션 시사점

> 위 성능 데이터를 바탕으로 분석한 AWS 인스턴스 선택 가이드입니다.

- 📖 **읽기 비중이 높음 (73%)**: 조회 작업이 많은 시스템입니다. Aurora Read Replica를 활용하면 읽기 성능을 분산시킬 수 있습니다.
- ✅ **IOPS 적정**: Aurora는 스토리지 I/O가 자동 확장되므로 별도 IOPS 설정이 필요 없습니다.

## 💾 메모리 사용량 통계

**요약:**
- **총 스냅샷 수**: 3개
- **평균 메모리 사용량**: 24.83 GB (SGA: 20.00 GB, PGA: 4.83 GB)
- **최소/최대**: 24.50 GB / 25.20 GB

**상세 데이터 (최근 10개):**

| Snap ID | Instance | SGA (GB) | PGA (GB) | Total (GB) |
|---------|----------|----------|----------|------------|
| 20001 | 1 | 20.00 | 4.50 | 24.50 |
| 20002 | 1 | 20.00 | 4.80 | 24.80 |
| 20003 | 1 | 20.00 | 5.20 | 25.20 |

## 🔧 SGA 조정 권장사항

### 이 섹션의 목적

Oracle SGA(System Global Area) 메모리 설정에 대한 최적화 권장사항입니다.
Oracle이 분석한 데이터를 바탕으로 성능 향상을 위한 SGA 크기 조정을 제안합니다.

> **💡 IT 관계자를 위한 설명**
> - **SGA**: Oracle이 데이터를 캐싱하는 공유 메모리 영역
> - **DB Time**: 데이터베이스가 작업을 처리하는 데 걸리는 시간
> - **Physical Reads**: 디스크에서 데이터를 읽는 횟수 (낮을수록 좋음)
> - SGA가 클수록 더 많은 데이터를 메모리에 캐싱하여 성능이 향상됩니다

### 분석 요약

| 항목 | 값 | 설명 |
|------|-----|------|
| 현재 SGA 크기 | 20 MB | 현재 설정된 SGA 메모리 크기 |
| 현재 예상 DB Time | 48,000 | 현재 설정에서의 예상 처리 시간 |
| 현재 예상 Physical Reads | 6,500,000 | 현재 설정에서의 예상 디스크 읽기 횟수 |
| **권장 SGA 크기** | **25 MB** | **최적 성능을 위한 권장 크기** |
| 권장 시 예상 DB Time | 42,000 | 권장 설정에서의 예상 처리 시간 |
| 권장 시 예상 Physical Reads | 5,200,000 | 권장 설정에서의 예상 디스크 읽기 횟수 |
| **예상 성능 개선** | **12.5%** | **DB Time 감소율** |

### 권장사항 분석

- 📈 **SGA 확장 권장**: 현재 SGA가 부족합니다. 25% 확장하면 성능이 개선됩니다.
- ⚠️ **마이그레이션 시 주의**: 타겟 인스턴스 메모리를 충분히 확보하세요.

### SGA 크기별 성능 예측

> 다양한 SGA 크기에서의 예상 성능입니다. Size Factor 1.0이 현재 설정입니다.

| SGA 크기 (MB) | Size Factor | 예상 DB Time | 예상 Physical Reads | 비고 |
|---------------|-------------|--------------|---------------------|------|
| 15 | 0.75 | 55,000 | 8,500,000 |  |
| 20 | 1.00 | 48,000 | 6,500,000 | 현재 |
| 25 | 1.25 | 42,000 | 5,200,000 | ⭐ 권장 |

## 💿 디스크 사용량 통계

**요약:**
- **평균 디스크 사용량**: 85.00 GB
- **최소/최대**: 85.00 GB / 85.00 GB


## ⏱️ Top Wait Events

### 이 섹션의 목적

Oracle 데이터베이스가 **어디서 시간을 소비하는지** 보여줍니다.
대기 이벤트 분석을 통해 성능 병목 지점을 파악하고,
마이그레이션 후 주의해야 할 영역을 식별합니다.

> **💡 IT 관계자를 위한 설명**
> - **Wait Event**: 데이터베이스가 특정 작업을 기다리는 동안 발생하는 이벤트
> - **DB Time %**: 전체 데이터베이스 시간 중 해당 이벤트가 차지하는 비율
> - 비율이 높은 이벤트일수록 성능에 큰 영향을 미칩니다
> - 마이그레이션 후에도 유사한 패턴이 나타날 수 있어 사전 대비가 필요합니다

### Wait Class 설명

> **Wait Class**는 대기 이벤트를 유형별로 분류한 것입니다.
> 각 클래스별로 마이그레이션 시 고려해야 할 사항이 다릅니다.

| Wait Class | 설명 | 마이그레이션 고려사항 |
|------------|------|---------------------|
| **DB** | 데이터베이스 CPU 사용 | CPU 사용량 - 인스턴스 vCPU 사이징 기준 |
| **Commit** | 트랜잭션 커밋 대기 | Aurora는 분산 로그로 커밋 성능 개선 가능 |
| **System** | 시스템 I/O 대기 (로그/컨트롤 파일) | 로그 파일, 컨트롤 파일 I/O - Aurora에서 자동 관리 |
| **Other** | 기타 대기 이벤트 | 개별 이벤트 분석 필요 |
| **User** | 사용자 I/O 대기 (데이터 파일 읽기/쓰기) | 스토리지 성능 중요, Aurora I/O 최적화 검토 |

### Top 10 Wait Events

> 가장 많은 시간을 소비한 상위 10개 대기 이벤트입니다.
> DB Time %가 높은 이벤트일수록 성능 개선 효과가 큽니다.

| 순위 | Wait Class | Event Name | DB Time % | 총 대기 시간 |
|------|------------|------------|-----------|-------------|
| 1 | DB | CPU DB CPU | 90.5% | 1,680,000,000초 |
| 2 | User | I/O db file sequential read | 4.5% | 135,000,000초 |
| 3 | Commit | log file sync | 2.8% | 82,500,000초 |
| 4 | Other | PGA memory operation | 1.5% | 45,000,000초 |
| 5 | System | I/O log file parallel write | 0.8% | 22,500,000초 |

### 마이그레이션 영향 분석

> 위 대기 이벤트 패턴을 바탕으로 분석한 마이그레이션 관련 주요 사항입니다.

- ✅ **특별한 성능 이슈 없음**: 대기 이벤트가 정상 범위 내에 있습니다.

## 🔧 Oracle 기능 사용 현황

### 이 섹션의 목적

Oracle 데이터베이스에서 사용 중인 **기능(Feature)**을 파악하여
마이그레이션 호환성을 평가합니다.

> **💡 IT 관계자를 위한 설명**
> - **Feature**: Oracle이 제공하는 특수 기능 (압축, 파티셔닝, 보안 등)
> - **호환성**: 타겟 DB(Aurora 등)에서 동일 기능을 지원하는지 여부
> - 비호환 기능이 많을수록 마이그레이션 복잡도와 비용이 증가합니다
> - 일부 기능은 AWS의 다른 서비스로 대체할 수 있습니다

### 영향도 범례

> 각 기능이 마이그레이션에 미치는 영향을 아이콘으로 표시합니다.

| 아이콘 | 의미 | 설명 | 예상 추가 작업 |
|--------|------|------|---------------|
| 🟢 | 호환 | 타겟 DB에서 동일/유사 기능 지원 | 없음 또는 최소 |
| 🟠 | 부분 호환 | 일부 기능 제한 또는 다른 방식 필요 | 코드 수정 필요 |
| 🔴 | 비호환 | 대체 방안 필요 또는 아키텍처 변경 | 설계 변경 필요 |

### 사용자 기능 (마이그레이션 시 검토 필요)

> 애플리케이션에서 직접 사용하는 기능입니다. 마이그레이션 시 대체 방안이 필요합니다.

| 기능 | 사용 횟수 | 영향도 | 대응 방안 |
|------|----------|--------|----------|
| SecureFiles (user) | 50 | 🟢 | 호환 가능 |

### 마이그레이션 검토 필요 기능

> 아래 기능들은 마이그레이션 시 호환성 검토가 필요합니다.

| 기능 | 사용 횟수 | 영향도 | 대응 방안 |
|------|----------|--------|----------|
| ADDM | 3 | 🟠 | 검토 필요 |
| AWR Report | 3 | 🟠 | 검토 필요 |
| Job Scheduler | 45 | 🟠 | 검토 필요 |
| LOB | 48 | 🟠 | PostgreSQL: BYTEA/TEXT, MySQL: BLOB/TEXT |
| Recovery Manager (RMAN) | 50 | 🟠 | 검토 필요 |
| Result Cache | 35 | 🟠 | 검토 필요 |

### Oracle 내부 관리 기능 (마이그레이션 영향 없음)

> 아래 기능들은 Oracle EE 설치 시 기본 활성화되는 내부 관리 기능입니다.
> 타겟 DB에서 자동으로 관리되므로 마이그레이션 시 별도 조치가 필요 없습니다.

<details>
<summary>내부 관리 기능 목록 보기 (무시 가능)</summary>

| 기능 | 설명 |
|------|------|
| Adaptive Plans | 쿼리 실행 계획 자동 조정 |
| Automatic Maintenance - Optimizer Statistics Gathering | 통계 자동 수집 |
| Automatic SGA Tuning | SGA 메모리 자동 조정 |
| Automatic Undo Management | Undo 세그먼트 자동 관리 |
| Character Set | 문자셋 설정 |
| Server Parameter File | 서버 파라미터 파일 |

</details>

### 시스템 기능 (참고용)

<details>
<summary>시스템 기능 목록 보기</summary>

| 기능 | 사용 횟수 |
|------|----------|
| Locally Managed Tablespaces (system) | 50 |
| SecureFiles (system) | 50 |

</details>

### 마이그레이션 영향 요약

> 위 기능 분석을 바탕으로 한 전체 요약입니다.

- ℹ️ **부분 호환 기능 6개**: 일부 코드 수정이 필요합니다. 대부분 SCT 도구로 자동 변환 후 수동 검토로 해결 가능합니다.
- 📋 **Oracle 내부 관리 기능 6개**는 마이그레이션 영향 없음 (타겟 DB에서 자동 관리)

## ⚡ Quick Assessment

> DBCSI 데이터 기반 빠른 마이그레이션 방향성 판단

### 판단 결과: 🟢 오픈소스 전환 가능

**신뢰도**: 75%

### 📊 분석 데이터 요약

| 항목 | 값 | 기준 |
|------|-----|------|
| 인스턴스 | 1 (단일) | 1 = 단일 |
| PL/SQL 라인 수 | 15,000 🟢 | < 20,000 |
| 프로시저 수 | 25 | < 50 |
| 함수 수 | 12 | < 30 |
| 패키지 수 | 5 | < 20 |
| DB 크기 | 85.0 GB | < 500 GB |
| DB Link 수 | 0 | < 5 |
| 쓰기 IOPS (최대/평균) | 12 / 10 | - |

### 📋 판단 근거

- 모든 오픈소스 전환 조건 충족

### 💡 권장사항

- PostgreSQL 또는 MySQL 선택을 위한 상세 분석 권장
- 마이그레이션 로드맵 수립

### 🔜 다음 단계

1. PL/SQL 복잡도 분석으로 PostgreSQL/MySQL 선택
2. 마이그레이션 PoC 진행
3. 상세 마이그레이션 계획 수립

### ⚠️ 주의사항

> Quick Assessment는 DBCSI 데이터만으로 판단하므로 **60-70% 신뢰도**입니다.
> 최종 결정 전 반드시 **PL/SQL 및 SQL 복잡도 상세 분석**을 수행하세요.
